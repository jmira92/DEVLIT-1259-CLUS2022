<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      
      <title>Writing an Upgrade Package Component -  - NSO 5.7 Development Guide</title>
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="index.html" title="NSO 5.7 Development Guide" />
      <link rel="up" href="ug.cdb.html" title="Using CDB" />
      <link rel="prev" href="ch09s10.html" title="Using Initialization Files for Upgrade" />
      <link rel="next" href="ug.java_api_overview.html" title="Java API Overview" />
      <meta xmlns="" name="Section-title" content="Writing an Upgrade Package Component" /><script xmlns="" type="text/javascript">
      //The id for tree cookie
      var treeCookieId = "treeview-22003";
      var language = "en";
      var w = new Object();
      //Localization
      txt_filesfound = 'Results';
      txt_enter_at_least_1_char = "You must enter at least one character.";
      txt_browser_not_supported = "JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.";
      txt_please_wait = "Please wait. Search in progress...";
      txt_results_for = "Results for: ";
    </script><link xmlns="" rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
      <link xmlns="" rel="stylesheet" type="text/css" href="common/css/positioning.css" />
      <link xmlns="" rel="stylesheet" type="text/css" href="common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css" />
      <link xmlns="" rel="stylesheet" type="text/css" href="common/jquery/treeview/jquery.treeview.css" /><style xmlns="" type="text/css">
      
      #noscript{
      font-weight:bold;
      background-color: #55AA55;
      font-weight: bold;
      height: 25spx;
      z-index: 3000;
      top:0px;
      width:100%;
      position: relative;
      border-bottom: solid 5px black;
      text-align:center;
      color: white;
      }
      
      input {
      margin-bottom: 5px;
      margin-top: 2px;
      }
      .folder {
      display: block;
      height: 22px;
      padding-left: 20px;
      background: transparent url(common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
      }
      span.contentsTab {
      padding-left: 20px;
      background: url(common/images/toc-icon.png) no-repeat 0 center;
      }
      span.searchTab {
      padding-left: 20px;
      background: url(common/images/search-icon.png) no-repeat 0 center;
      }
      
      /* Overide jquery treeview's defaults for ul. */
      .treeview ul {
      background-color: transparent;
      margin-top: 4px;
      }		
      #webhelp-currentid {
      /* background-color: #D8D8D8 !important; */
      background-color: #D8D8D8;
      }
      .treeview .hover { color: black; }
      .filetree li span a { text-decoration: none; font-size: 12px; color: #517291; }
      
      /* Override jquery-ui's default css customizations. These are supposed to take precedence over those.*/
      .ui-widget-content {
      border: 0px; 
      background: none; 
      color: none;     
      }
      .ui-widget-header {
      color: #e9e8e9;
      border-left: 1px solid #e5e5e5;
      border-right: 1px solid #e5e5e5;
      border-bottom: 1px solid #bbc4c5;
      border-top: 4px solid #e5e5e5;
      border: medium none;
      background: #F4F4F4; /* old browsers */
      background: -moz-linear-gradient(top, #F4F4F4 0%, #E6E4E5 100%); /* firefox */
      background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#F4F4F4), color-stop(100%,#E6E4E5)); /* webkit */    
      font-weight: none;
      }
      .ui-widget-header a { color: none; }
      .ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default { 
      border: none; background: none; font-weight: none; color: none; }
      .ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited { color: black; text-decoration: none; }
      .ui-state-hover, .ui-widget-content .ui-state-hover, .ui-widget-header .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus, .ui-widget-header .ui-state-focus { border: none; background: none; font-weight: none; color: none; }
      
      .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active { border: none; background: none; font-weight: none; color: none; }
      .ui-state-active a, .ui-state-active a:link, .ui-state-active a:visited { 
      color: black; text-decoration: none; 	
      background: #C6C6C6; /* old browsers */
      background: -moz-linear-gradient(top, #C6C6C6 0%, #D8D8D8 100%); /* firefox */
      background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#C6C6C6), color-stop(100%,#D8D8D8)); /* webkit */
      -webkit-border-radius:15px; -moz-border-radius:10px;
      border: 1px solid #f1f1f1;
      }    
      .ui-corner-all { border-radius: 0 0 0 0; }
      
      .ui-tabs { padding: .2em;}
      .ui-tabs .ui-tabs-nav li { top: 0px; margin: -2px 0 1px; text-transform: uppercase; font-size: 10.5px;}
      .ui-tabs .ui-tabs-nav li a { padding: .25em 2em .25em 1em; margin: .5em; text-shadow: 0 1px 0 rgba(255,255,255,.5); }
      /**
      *	Basic Layout Theme
      * 
      *	This theme uses the default layout class-names for all classes
      *	Add any 'custom class-names', from options: paneClass, resizerClass, togglerClass
      */
      
      .ui-layout-pane { /* all 'panes' */ 
      background: #FFF; 
      border: 1px solid #BBB; 
      padding: 05x; 
      overflow: auto;
      } 
      
      .ui-layout-resizer { /* all 'resizer-bars' */ 
      background: #DDD; 
      top:100px
      } 
      
      .ui-layout-toggler { /* all 'toggler-buttons' */ 
      background: #AAA; 
      } 
      
    </style>
      <!--[if IE]>
	<link rel="stylesheet" type="text/css" href="../common/css/ie.css"/>
	<![endif]--><script xmlns="" type="text/javascript" src="common/browserDetect.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/jquery-1.7.2.min.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/jquery.ui.all.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/jquery.cookie.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/treeview/jquery.treeview.min.js">
         <!----></script><script xmlns="" type="text/javascript" src="common/jquery/layout/jquery.layout.js">
         <!----></script><style type="text/css">
      
      #header {
      /* background: url("../images/header-bg.png") scroll top left repeat-x #4d8c83; */
      background: transparent;
      }
      #leftnavigation {
      /* background-color: #ededed!important; */
      background-color: transparent;
      }
      #navheader {
      visibility: hidden;
      }
      #webhelp-currentid {
      /* background-color: #D8D8D8 !important; */
      background-color: #FFFFFF; /*but must be changed in main.js as well*/
      }
      .filetree span.file {
      /* background: url(images/file.gif) 0 0 no-repeat; */
      background: initial;
      }
      .filetree span.folder, .filetree span.file {
      padding: 1px 0 1px 7px;
      display: block;
      }

      /* borrowed from cisco: clientlib.css */
      .footer {
      margin: 28px 30px 0 15px;
      font-size: 80%;
      line-height: 120%;
      border-top: 1px solid #ccc;
      padding-top: 7px;
      color: #999;
      }
      .footer #footer-legal{display:inline;padding-bottom:18px}
      #framework-footer{margin:0;padding:0 0 15px 0;min-width:900px;width:100%}
      .footer a,.footer a:visited{color:#999}

      /* from ccimr.css */
      a:active  { color: #3366CC}
      a:hover   { color: #3366CC}
      a:link    { color: #3366CC}
      a:visited { color: #3366CC}

      #header img {
      float: left;
      margin-left: 20px;
      margin-top: 0px;
      }

      #header h1 {
      color: #336666;
      margin-top: 4px;
      }
      #content h1, #content h2 {
      color: #336666;
      }
      .title {
      color: #336666;
      }
      p, pre {
      margin-left: 0.1in;
      }
      p, ul, ol, li {
        font-size: 95%;
        font-family: Arial, Helvetica, sans-serif;
        margin-top: 1px;
      }
      body {
        font: 80.5% Arial, Helvetica, sans-serif;
      }
      ol {
      display: block;
      list-style-type: decimal;
      -webkit-margin-before: 1em;
      -webkit-margin-after: 1em;
      -webkit-margin-start: 0px;
      -webkit-margin-end: 0px;
      -webkit-padding-start: 40px;
      border: 1;
      }
    </style></head>
   <body>
      <noscript>
         <div id="noscript">JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.</div>
      </noscript>
      <div id="header"><a href="index.html"><img style="margin-right: 2px; width: 110; height: 73; padding-right: 25px; padding-top: 8px" align="right" src="common/images/logo.gif" alt="Cisco Systems, Inc." /></a><h1>NSO 5.7 Development Guide<br />Using CDB
         </h1>
         <div id="navheader">
            <!---->
            <table class="navLinks">
               <tr>
                  <td><a id="showHideButton" href="#" onclick="myLayout.toggle('west')" class="pointLeft" tabindex="5" title="Hide TOC tree">Sidebar
                                                    </a></td>
                  <td><a accesskey="p" class="navLinkPrevious" tabindex="5" href="ch09s10.html">Prev</a>
                                                             |
                                                             <a accesskey="u" class="navLinkUp" tabindex="5" href="ug.cdb.html">Up</a>
                                                         |
                                                         <a accesskey="n" class="navLinkNext" tabindex="5" href="ug.java_api_overview.html">Next</a></td>
               </tr>
            </table>
         </div>
      </div>
      <div id="content">
         <div class="sect1">
            <div xmlns="" class="titlepage">
               <div>
                  <div>
                     <h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="ncs.cdb.upgrade.comp"></a>Writing an Upgrade Package Component
                     </h2>
                  </div>
               </div>
            </div>
            <p>In previous sections we showed how automatic upgrades and
                   XML initialization files can help in upgrading CDB when YANG models
                   have changed. In some situations this is not sufficient.
                   For instance if a YANG model is changed and new mandatory leaves are
                   introduced that need calculations to set the values then a programmatic
                   upgrade is needed. This is when the <span class="emphasis"><em>upgrade</em></span> component
                   of a package comes in play.
                   
            </p>
            <p>A <span class="emphasis"><em>upgrade</em></span> component is a Java class with a
                   standard <code class="function">main()</code> method that becomes a standalone
                   program that is run as part of the package <span class="emphasis"><em>reload</em></span>
                   action.
            </p>
            <p>
                   As with any package component types, the <span class="emphasis"><em>upgrade</em></span>
                   components has to be defined in the
                   <span class="emphasis"><em>package-meta-data.xml</em></span> file for the package
                   (<a class="xref" href="ncs.cdb.upgrade.comp.html#ug.cdb.ex.upgrade.components" title="Example 53. Upgrade Package Components">Example 53, “Upgrade Package Components”</a>).
               
                   
            </p>
            <div class="example"><a id="ug.cdb.ex.upgrade.components"></a><p class="title"><strong>Example 53. Upgrade Package Components</strong></p>
               <div class="example-contents"><pre class="programlisting"><strong xmlns="" class="hl-tag" style="color: #000096">&lt;ncs-package</strong> <span xmlns="" class="hl-attribute" style="color: #F5844C">xmlns</span>=<span xmlns="" class="hl-value" style="color: #993300">"http://tail-f.com/ns/ncs-packages"</span><strong xmlns="" class="hl-tag" style="color: #000096">&gt;</strong>
    ....
  <strong xmlns="" class="hl-tag" style="color: #000096">&lt;component&gt;</strong>
    <strong xmlns="" class="hl-tag" style="color: #000096">&lt;name&gt;</strong>do-upgrade<strong xmlns="" class="hl-tag" style="color: #000096">&lt;/name&gt;</strong>
    <strong xmlns="" class="hl-tag" style="color: #000096">&lt;upgrade&gt;</strong>
      <strong xmlns="" class="hl-tag" style="color: #000096">&lt;java-class-name&gt;</strong>com.example.DoUpgrade<strong xmlns="" class="hl-tag" style="color: #000096">&lt;/java-class-name&gt;</strong>
    <strong xmlns="" class="hl-tag" style="color: #000096">&lt;/upgrade&gt;</strong>
  <strong xmlns="" class="hl-tag" style="color: #000096">&lt;/component&gt;</strong>
<strong xmlns="" class="hl-tag" style="color: #000096">&lt;/ncs-package&gt;</strong></pre></div>
            </div>
            <p><br class="example-break" />
                   
            </p>
            <p>Lets recapitulate how packages are loaded and reloaded. NSO can search
                   the <code class="filename">/ncs-config/load-path</code> for packages to run and will
                   copy these to a private directory tree under
                   <code class="filename">/ncs-config/state-dir</code> with root directory
                   <code class="filename">packages-in-use.cur</code>. However NSO will only do this
                   search when <code class="filename">packages-in-use.cur</code> is empty or when
                   a <span class="emphasis"><em>reload</em></span> is requested. This scheme makes
                   package upgrades controlled and predictable, for more on this see
                   <a class="xref" href="ug.package_dev.loading.html" title="Loading Packages">the section called “Loading Packages”</a>.
                   
            </p>
            <div class="mediaobject" align="center">
               <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="496">
                  <tr>
                     <td align="center"><img src="pics/upg_pack_1.png" align="middle" width="496" /></td>
                  </tr>
               </table>
               <div class="caption">
                  <p>NSO Package before reload</p>
               </div>
            </div>
            <p>So in preparation for a package upgrade the new packages replaces
                   the old ones in the load path. In our scenario the YANG model changes
                   are such that the automatic schema upgrade that CDB performs are not
                   sufficient, therefore the new packages also contain
                   <span class="emphasis"><em>upgrade</em></span> components. At this point NSO is
                   still running with the old package definitions.
                   
            </p>
            <div class="mediaobject" align="center">
               <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="496">
                  <tr>
                     <td align="center"><img src="pics/upg_pack_2.png" align="middle" width="496" /></td>
                  </tr>
               </table>
               <div class="caption">
                  <p>NSO Package at reload</p>
               </div>
            </div>
            <p>
                   When the package reload is requested the packages in the load-path is
                   copied to the state directory. The old state directory is scratched so
                   that packages than no longer exist in the load path are removed and
                   new packages are added. Obviously, unchanged packages will be unchanged.
                   Automatic schema CDB upgrades will be performed, and afterwards, for all
                   packages which have and upgrade component and for which at least one YANG
                   model was changes, this upgrade component will be executed.
                   Also for added packages that have an upgrade component this component will
                   be executed. Hence the upgrade component needs to be programmed in such
                   a way that care is taken for both the <span class="emphasis"><em>new</em></span> and
                   <span class="emphasis"><em>upgrade</em></span> package scenarios.
                   
            </p>
            <p>So how should an upgrade component be implemented?
                   In the previous section we described how CDB can perform an automatic
                   upgrade. But this means that CDB has deleted all values that are no longer
                   part of the schema? Well, not quite yet. At an initial phase of the NSO
                   startup procedure (called start-phase0) it is possible to use all the CDB
                   Java API calls to access the data using the schema from the database as it
                   looked <span class="emphasis"><em>before</em></span> the automatic upgrade. That is, the
                   <span class="emphasis"><em>complete</em></span> database as it stood before the
                   upgrade is still available to the application. It is under this condition
                   that the upgrade components are executed and is the reason why they are
                   standalone programs and not executed by the NSO Java-VM as all other
                   java code for components are.
            </p>
            <p>So the CDB Java API can be used to read data defined by the old YANG
                   models. To write new config data Maapi has a specific method
                   <code class="function">Maapi.attachInit()</code>. This method attaches a
                   Maapi instance to the upgrade transaction (or init transaction)
                   during <code class="sgmltag-element">phase0</code>. This special upgrade transaction
                   is only available during phase0. NSO will commit this transaction
                   when the phase0 is ended, so the user should only write config data (not
                   attempt commit etc).
            </p>
            <p>We take a look at the example
                   <code class="filename">$NCS_DIR/examples.ncs/getting-started/developing-with-ncs/14-upgrade-service
                      </code>to see how a upgrade component can be implemented.
                   Here the <span class="emphasis"><em>vlan</em></span> package has an original version which
                   is replaced with a version <span class="emphasis"><em>vlan_v2</em></span>. See the README
                   and play with example to get aquainted.
                   
            </p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>The <code class="filename">14-upgrade-service</code> is a
                        <span class="emphasis"><em>service</em></span> package. But the upgrade components here
                        described work equally well and in the same way for any package type.
                        The only requirement is that the package contain at least one YANG model
                        for the upgrade component to have meaning. If not the upgrade component
                        will never be executed.
                        
               </p>
            </div>
            <p>The complete YANG model for the version 2 of the VLAN service
                   looks as follows:
                   
            </p>
            <div class="example"><a id="d0e6993"></a><p class="title"><strong>Example 54. VLAN Service v2 YANG Model</strong></p>
               <div class="example-contents"><pre class="programlisting"><strong xmlns="" class="hl-keyword">module</strong> vlan-service {
  <strong xmlns="" class="hl-keyword">namespace</strong> <strong xmlns="" class="hl-string"><em style="color:red">"http://example.com/vlan-service"</em></strong>;
  <strong xmlns="" class="hl-keyword">prefix</strong> vl;

  <strong xmlns="" class="hl-keyword">import</strong> tailf-common {
    <strong xmlns="" class="hl-keyword">prefix</strong> tailf;
  }
  <strong xmlns="" class="hl-keyword">import</strong> tailf-ncs {
    <strong xmlns="" class="hl-keyword">prefix</strong> ncs;
  }

  <strong xmlns="" class="hl-keyword">description</strong>
    <strong xmlns="" class="hl-string"><em style="color:red">"This service creates a vlan iface/unit on all routers in our network. "</em></strong>;

  <strong xmlns="" class="hl-keyword">revision</strong> <span xmlns="" class="hl-number">2013</span>-<span xmlns="" class="hl-number">08</span>-<span xmlns="" class="hl-number">30</span> {
    <strong xmlns="" class="hl-keyword">description</strong>
      <strong xmlns="" class="hl-string"><em style="color:red">"Added mandatory leaf global-id."</em></strong>;
  }
  <strong xmlns="" class="hl-keyword">revision</strong> <span xmlns="" class="hl-number">2013</span>-<span xmlns="" class="hl-number">01</span>-<span xmlns="" class="hl-number">08</span> {
    <strong xmlns="" class="hl-keyword">description</strong>
      <strong xmlns="" class="hl-string"><em style="color:red">"Initial revision."</em></strong>;
  }

  <strong xmlns="" class="hl-keyword">augment</strong> /ncs:services {
    <strong xmlns="" class="hl-keyword">list</strong> vlan {
      <strong xmlns="" class="hl-keyword">key</strong> name;
      <strong xmlns="" class="hl-keyword">leaf</strong> name {
        tailf:info <strong xmlns="" class="hl-string"><em style="color:red">"Unique service id"</em></strong>;
        tailf:cli-allow-<strong xmlns="" class="hl-keyword">range</strong>;
        <strong xmlns="" class="hl-keyword">type</strong> string;
      }

      <strong xmlns="" class="hl-keyword">uses</strong> ncs:service-data;
      ncs:servicepoint vlanspnt_v2;

      tailf:action self-test {
        tailf:info <strong xmlns="" class="hl-string"><em style="color:red">"Perform self-test of the service"</em></strong>;
        tailf:actionpoint vlanselftest;
        <strong xmlns="" class="hl-keyword">output</strong> {
          <strong xmlns="" class="hl-keyword">leaf</strong> success {
            <strong xmlns="" class="hl-keyword">type</strong> boolean;
          }
          <strong xmlns="" class="hl-keyword">leaf</strong> message {
            <strong xmlns="" class="hl-keyword">type</strong> string;
            <strong xmlns="" class="hl-keyword">description</strong>
              <strong xmlns="" class="hl-string"><em style="color:red">"Free format message."</em></strong>;
          }
        }
      }

      <strong xmlns="" class="hl-keyword">leaf</strong> global-id {
        <strong xmlns="" class="hl-keyword">type</strong> string;
        <strong xmlns="" class="hl-keyword">mandatory</strong> true;
      }
      <strong xmlns="" class="hl-keyword">leaf</strong> iface {
        <strong xmlns="" class="hl-keyword">type</strong> string;
        <strong xmlns="" class="hl-keyword">mandatory</strong> true;
      }
      <strong xmlns="" class="hl-keyword">leaf</strong> unit {
        <strong xmlns="" class="hl-keyword">type</strong> int32;
        <strong xmlns="" class="hl-keyword">mandatory</strong> true;
      }
      <strong xmlns="" class="hl-keyword">leaf</strong> vid {
        <strong xmlns="" class="hl-keyword">type</strong> uint16;
        <strong xmlns="" class="hl-keyword">mandatory</strong> true;
      }
      <strong xmlns="" class="hl-keyword">leaf</strong> <strong xmlns="" class="hl-keyword">description</strong> {
        <strong xmlns="" class="hl-keyword">type</strong> string;
        <strong xmlns="" class="hl-keyword">mandatory</strong> true;
      }
    }
  }
}</pre></div>
            </div><br class="example-break" /><p>If we <code class="code">diff</code> the changes between the two YANG models for the service we
                   see that in version 2 a new mandatory leaf has been added (see
                   <a class="xref" href="ncs.cdb.upgrade.comp.html#ug.cdb.ex.service.diff" title="Example 55. YANG Service diff">Example 55, “YANG Service diff”</a>).
                   
            </p>
            <div class="example"><a id="ug.cdb.ex.service.diff"></a><p class="title"><strong>Example 55. YANG Service diff</strong></p>
               <div class="example-contents"><pre class="screen">$ <strong class="userinput"><code>diff vlan/src/yang/vlan-service.yang \
                     vlan_v2/src/yang/vlan-service.yang</code></strong>
16a18,22
&gt;   revision 2013-08-30 {
&gt;     description
&gt;       "Added mandatory leaf global-id.";
&gt;   }
&gt;
48a55,58
&gt;       leaf global-id {
&gt;         type string;
&gt;         mandatory true;
&gt;       }
68c78</pre></div>
            </div><br class="example-break" /><p>We need to create a Java class with a <code class="function">main()</code>
                   method that connects to CDB and MAAPI. This main will be executed as a
                   separate program an all private and shared jars defined by the package will
                   be in the classpath. To upgrade the vlan service the following Java code
                   is needed:
                   
            </p>
            <div class="example"><a id="d0e7018"></a><p class="title"><strong>Example 56. VLAN Service Upgrade Component Java Class</strong></p>
               <div class="example-contents"><pre class="programlisting"><strong xmlns="" class="hl-keyword">public</strong> <strong xmlns="" class="hl-keyword">class</strong> UpgradeService {

    <strong xmlns="" class="hl-keyword">public</strong> UpgradeService() {
    }

    <strong xmlns="" class="hl-keyword">public</strong> <strong xmlns="" class="hl-keyword">static</strong> <strong xmlns="" class="hl-keyword">void</strong> main(String[] args) <strong xmlns="" class="hl-keyword">throws</strong> Exception {
        Socket s1 = <strong xmlns="" class="hl-keyword">new</strong> Socket(<strong xmlns="" class="hl-string"><em style="color:red">"localhost"</em></strong>, Conf.NCS_PORT);
        Cdb cdb = <strong xmlns="" class="hl-keyword">new</strong> Cdb(<strong xmlns="" class="hl-string"><em style="color:red">"cdb-upgrade-sock"</em></strong>, s1);
        cdb.setUseForCdbUpgrade();
        CdbUpgradeSession cdbsess =
            cdb.startUpgradeSession(
                    CdbDBType.CDB_RUNNING,
                    EnumSet.of(CdbLockType.LOCK_SESSION,
                               CdbLockType.LOCK_WAIT));


        Socket s2 = <strong xmlns="" class="hl-keyword">new</strong> Socket(<strong xmlns="" class="hl-string"><em style="color:red">"localhost"</em></strong>, Conf.NCS_PORT);
        Maapi maapi = <strong xmlns="" class="hl-keyword">new</strong> Maapi(s2);
        <strong xmlns="" class="hl-keyword">int</strong> th = maapi.attachInit();

        <strong xmlns="" class="hl-keyword">int</strong> no = cdbsess.getNumberOfInstances(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan"</em></strong>);
        <strong xmlns="" class="hl-keyword">for</strong>(<strong xmlns="" class="hl-keyword">int</strong> i = <span xmlns="" class="hl-number">0</span>; i &lt; no; i++) {
            Integer offset = Integer.valueOf(i);
            ConfBuf name = (ConfBuf)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/name"</em></strong>,
                                                    offset);
            ConfBuf iface = (ConfBuf)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/iface"</em></strong>,
                                                    offset);
            ConfInt32 unit =
                (ConfInt32)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/unit"</em></strong>,
                                           offset);
            ConfUInt16 vid =
                (ConfUInt16)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/vid"</em></strong>,
                                            offset);

            String nameStr = name.toString();
            System.out.println(<strong xmlns="" class="hl-string"><em style="color:red">"SERVICENAME = "</em></strong> + nameStr);

            String globId = String.format(<strong xmlns="" class="hl-string"><em style="color:red">"%1$s-%2$s-%3$s"</em></strong>, iface.toString(),
                                          unit.toString(), vid.toString());
            ConfPath gidpath = <strong xmlns="" class="hl-keyword">new</strong> ConfPath(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan{%s}/global-id"</em></strong>,
                                            name.toString());
            maapi.setElem(th, <strong xmlns="" class="hl-keyword">new</strong> ConfBuf(globId), gidpath);
        }

        s1.close();
        s2.close();
    }
}</pre></div>
            </div><br class="example-break" /><p>Lets go through the code and point out the different aspects
                   of writing a upgrade component.  First (see <a class="xref" href="ncs.cdb.upgrade.comp.html#ug.cdb.ex.upgrade.init" title="Example 57. Upgrade Init">Example 57, “Upgrade Init”</a>) we open a socket and connect
                   to NSO. We pass this socket to a Java API <code class="code">Cdb</code>
                   instance and call
                   <code class="function">Cdb.setUseForCdbUpgrade()</code>. This method will
                   prepare cdb sessions for reading old data from the CDB database,
                   and it should only be called in this context. In the end of this
                   first code fragment we start the CDB upgrade session:
                   
            </p>
            <div class="example"><a id="ug.cdb.ex.upgrade.init"></a><p class="title"><strong>Example 57. Upgrade Init</strong></p>
               <div class="example-contents"><pre class="programlisting">        Socket s1 = <strong xmlns="" class="hl-keyword">new</strong> Socket(<strong xmlns="" class="hl-string"><em style="color:red">"localhost"</em></strong>, Conf.NCS_PORT);
        Cdb cdb = <strong xmlns="" class="hl-keyword">new</strong> Cdb(<strong xmlns="" class="hl-string"><em style="color:red">"cdb-upgrade-sock"</em></strong>, s1);
        cdb.setUseForCdbUpgrade();
        CdbUpgradeSession cdbsess =
            cdb.startUpgradeSession(
                    CdbDBType.CDB_RUNNING,
                    EnumSet.of(CdbLockType.LOCK_SESSION,
                               CdbLockType.LOCK_WAIT));</pre></div>
            </div><br class="example-break" /><p>We then open and connect a second socket to NSO and pass
                   this to a Java API Maapi instance. We call the
                   <code class="function">Maapi.attachInit()</code> method to get the init
                   transaction (<a class="xref" href="ncs.cdb.upgrade.comp.html#ug.cdb.ex.upgrade.get.trans" title="Example 58. Upgrade Get Transaction">Example 58, “Upgrade Get Transaction”</a>).
                   
            </p>
            <div class="example"><a id="ug.cdb.ex.upgrade.get.trans"></a><p class="title"><strong>Example 58. Upgrade Get Transaction</strong></p>
               <div class="example-contents"><pre class="programlisting">        Socket s2 = <strong xmlns="" class="hl-keyword">new</strong> Socket(<strong xmlns="" class="hl-string"><em style="color:red">"localhost"</em></strong>, Conf.NCS_PORT);
        Maapi maapi = <strong xmlns="" class="hl-keyword">new</strong> Maapi(s2);
        <strong xmlns="" class="hl-keyword">int</strong> th = maapi.attachInit();</pre></div>
            </div><br class="example-break" /><p>Using the <code class="code">CdbSession</code> instance we read the
                   number of service instance that exists in the CDB database. We
                   will work on all these instances. Also if the number of instances
                   is zero the loop will not be entered. This is a simple way to
                   prevent the upgrade component from doing any harm in the case of
                   this being a new package that is added to NSO for the first
                   time:
                   
            </p>
            <div class="informalexample"><pre class="programlisting">        <strong xmlns="" class="hl-keyword">int</strong> no = cdbsess.getNumberOfInstances(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan"</em></strong>);
        <strong xmlns="" class="hl-keyword">for</strong>(<strong xmlns="" class="hl-keyword">int</strong> i = <span xmlns="" class="hl-number">0</span>; i &lt; no; i++) {</pre></div>
            <p>Via the <code class="code">CdbUpgradeSession</code>, the old service data is
                   retrieved:
            </p>
            <div class="informalexample"><pre class="programlisting">            ConfBuf name = (ConfBuf)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/name"</em></strong>,
                                                    offset);
            ConfBuf iface = (ConfBuf)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/iface"</em></strong>,
                                                    offset);
            ConfInt32 unit =
                (ConfInt32)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/unit"</em></strong>,
                                           offset);
            ConfUInt16 vid =
                (ConfUInt16)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/vid"</em></strong>,
                                            offset);</pre></div>
            <p>The value for new leaf introduced in the new version of the YANG model
                   is calculated, and the value is set using Maapi and the init transaction:
                   
            </p>
            <div class="informalexample"><pre class="programlisting">            String globId = String.format(<strong xmlns="" class="hl-string"><em style="color:red">"%1$s-%2$s-%3$s"</em></strong>, iface.toString(),
                                          unit.toString(), vid.toString());
            ConfPath gidpath = <strong xmlns="" class="hl-keyword">new</strong> ConfPath(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan{%s}/global-id"</em></strong>,
                                            name.toString());
            maapi.setElem(th, <strong xmlns="" class="hl-keyword">new</strong> ConfBuf(globId), gidpath);</pre></div>
            <p>In the end of the program the sockets are closed. Important to note
                   is that no commits or other handling of the init transaction is done. This
                   is NSO responsibility:
                   
            </p>
            <div class="informalexample"><pre class="programlisting">        s1.close();
        s2.close();</pre></div>
            <p>More complicated service package upgrades scenarios occur when
                   a YANG model containing a service point is renamed, or moved and augmented
                   to a new place in the NSO model. This is because, not only, does the
                   complete config data set need to be recreated on the new position but a
                   service also have hidden private data that is part of the FASTMAP algorithm
                   and necessary for the service to be valid. For this reason a specific
                   MAAPI method <code class="function">Maapi.ncsMovePrivateData()</code> exists that
                   takes the both the old and the new position for the service point and
                   moves the service data between these positions.
                   
            </p>
            <div class="mediaobject" align="center">
               <table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="496">
                  <tr>
                     <td align="center"><img src="pics/upg_service.png" align="middle" width="496" /></td>
                  </tr>
               </table>
               <div class="caption">
                  <p>NSO Advanced service upgrade</p>
               </div>
            </div>
            <p>In the 14-upgrade-service example this more complicated scenario
                   is illustrated with the tunnel package. The tunnel package YANG model
                   maps the vlan_v2 package one-to-one but is a complete rename of the model
                   containers and all leafs:
                   
            </p>
            <div class="example"><a id="d0e7089"></a><p class="title"><strong>Example 59. Tunnel Service YANG model</strong></p>
               <div class="example-contents"><pre class="programlisting">module tunnel-service {
  namespace <strong xmlns="" class="hl-string"><em style="color:red">"http://example.com/tunnel-service"</em></strong>;
  prefix tl;

  <strong xmlns="" class="hl-keyword">import</strong> tailf-common {
    prefix tailf;
  }
  <strong xmlns="" class="hl-keyword">import</strong> tailf-ncs {
    prefix ncs;
  }

  description
    <strong xmlns="" class="hl-string"><em style="color:red">"This service creates a tunnel assembly on all routers in our network. "</em></strong>;

  revision <span xmlns="" class="hl-number">2013</span>-<span xmlns="" class="hl-number">01</span>-<span xmlns="" class="hl-number">08</span> {
    description
      <strong xmlns="" class="hl-string"><em style="color:red">"Initial revision."</em></strong>;
  }

  augment /ncs:services {
    list tunnel {
      key tunnel-name;
      leaf tunnel-name {
        tailf:info <strong xmlns="" class="hl-string"><em style="color:red">"Unique service id"</em></strong>;
        tailf:cli-allow-range;
        type string;
      }

      uses ncs:service-data;
      ncs:servicepoint tunnelspnt;

      tailf:action self-test {
        tailf:info <strong xmlns="" class="hl-string"><em style="color:red">"Perform self-test of the service"</em></strong>;
        tailf:actionpoint tunnelselftest;
        output {
          leaf success {
            type <strong xmlns="" class="hl-keyword">boolean</strong>;
          }
          leaf message {
            type string;
            description
              <strong xmlns="" class="hl-string"><em style="color:red">"Free format message."</em></strong>;
          }
        }
      }

      leaf gid {
        type string;
        mandatory true;
      }
      leaf <strong xmlns="" class="hl-keyword">interface</strong> {
        type string;
        mandatory true;
      }
      leaf assembly {
        type int32;
        mandatory true;
      }
      leaf tunnel-id {
        type uint16;
        mandatory true;
      }
      leaf descr {
        type string;
        mandatory true;
      }
    }
  }
}</pre></div>
            </div><br class="example-break" /><p>To upgrade from the vlan_v2 to the tunnel package an new upgrade
                   component for the tunnel package has to be implemented:
                   
            </p>
            <div class="example"><a id="d0e7096"></a><p class="title"><strong>Example 60. Tunnel Service Upgrade Java class</strong></p>
               <div class="example-contents"><pre class="programlisting"><strong xmlns="" class="hl-keyword">public</strong> <strong xmlns="" class="hl-keyword">class</strong> UpgradeService {

    <strong xmlns="" class="hl-keyword">public</strong> UpgradeService() {
    }

    <strong xmlns="" class="hl-keyword">public</strong> <strong xmlns="" class="hl-keyword">static</strong> <strong xmlns="" class="hl-keyword">void</strong> main(String[] args) <strong xmlns="" class="hl-keyword">throws</strong> Exception {
        ArrayList&lt;ConfNamespace&gt; nsList = <strong xmlns="" class="hl-keyword">new</strong> ArrayList&lt;ConfNamespace&gt;();
        nsList.add(<strong xmlns="" class="hl-keyword">new</strong> vlanService());
        Socket s1 = <strong xmlns="" class="hl-keyword">new</strong> Socket(<strong xmlns="" class="hl-string"><em style="color:red">"localhost"</em></strong>, Conf.NCS_PORT);
        Cdb cdb = <strong xmlns="" class="hl-keyword">new</strong> Cdb(<strong xmlns="" class="hl-string"><em style="color:red">"cdb-upgrade-sock"</em></strong>, s1);
        cdb.setUseForCdbUpgrade(nsList);
        CdbUpgradeSession cdbsess =
            cdb.startUpgradeSession(
                    CdbDBType.CDB_RUNNING,
                    EnumSet.of(CdbLockType.LOCK_SESSION,
                               CdbLockType.LOCK_WAIT));


        Socket s2 = <strong xmlns="" class="hl-keyword">new</strong> Socket(<strong xmlns="" class="hl-string"><em style="color:red">"localhost"</em></strong>, Conf.NCS_PORT);
        Maapi maapi = <strong xmlns="" class="hl-keyword">new</strong> Maapi(s2);
        <strong xmlns="" class="hl-keyword">int</strong> th = maapi.attachInit();

        <strong xmlns="" class="hl-keyword">int</strong> no = cdbsess.getNumberOfInstances(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan"</em></strong>);
        <strong xmlns="" class="hl-keyword">for</strong>(<strong xmlns="" class="hl-keyword">int</strong> i = <span xmlns="" class="hl-number">0</span>; i &lt; no; i++) {
            ConfBuf name =(ConfBuf)cdbsess.getElem(<strong xmlns="" class="hl-string"><em style="color:red">"/services/vlan[%d]/name"</em></strong>,
                                                   Integer.valueOf(i));
            String nameStr = name.toString();
            System.out.println(<strong xmlns="" class="hl-string"><em style="color:red">"SERVICENAME = "</em></strong> + nameStr);

            ConfCdbUpgradePath oldPath =
                <strong xmlns="" class="hl-keyword">new</strong> ConfCdbUpgradePath(<strong xmlns="" class="hl-string"><em style="color:red">"/ncs:services/vl:vlan{%s}"</em></strong>,
                                       name.toString());
            ConfPath newPath = <strong xmlns="" class="hl-keyword">new</strong> ConfPath(<strong xmlns="" class="hl-string"><em style="color:red">"/services/tunnel{%x}"</em></strong>, name);
            maapi.create(th, newPath);

            ConfXMLParam[] oldparams = <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParam[] {
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"global-id"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"iface"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"unit"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"vid"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"description"</em></strong>),
            };
            ConfXMLParam[] data =
                cdbsess.getValues(oldparams, oldPath);

            ConfXMLParam[] newparams = <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParam[] {
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"gid"</em></strong>,       data[<span xmlns="" class="hl-number">0</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"interface"</em></strong>, data[<span xmlns="" class="hl-number">1</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"assembly"</em></strong>,  data[<span xmlns="" class="hl-number">2</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"tunnel-id"</em></strong>, data[<span xmlns="" class="hl-number">3</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"descr"</em></strong>,     data[<span xmlns="" class="hl-number">4</span>].getValue()),
            };
            maapi.setValues(th, newparams, newPath);

            maapi.ncsMovePrivateData(th, oldPath, newPath);
        }

        s1.close();
        s2.close();
    }
}</pre></div>
            </div><br class="example-break" /><p>We will walk throw this code also and point out the aspects
                   that differ from the earlier more simple scenario. First we want
                   to create the <code class="code">Cdb</code> instance and get the
                   CdbSession. However in this scenario the old namespace is removed
                   and the Java API cannot retrieve it from NSO. To be able to use
                   CDB to read and interpret the old YANG Model the old generated
                   and removed Java namespace classes has to be temporarily
                   reinstalled. This is solved by adding a jar (Java archive)
                   containing these removed namespaces into the
                   <code class="filename">private-jar</code> directory of the tunnel
                   package. The removed namespace can then be instantiated and passed
                   to Cdb via an overridden version of the
                   <code class="function">Cdb.setUseForCdbUpgrade()</code> method:
                   
            </p>
            <div class="informalexample"><pre class="programlisting">        ArrayList&lt;ConfNamespace&gt; nsList = <strong xmlns="" class="hl-keyword">new</strong> ArrayList&lt;ConfNamespace&gt;();
        nsList.add(<strong xmlns="" class="hl-keyword">new</strong> vlanService());
        Socket s1 = <strong xmlns="" class="hl-keyword">new</strong> Socket(<strong xmlns="" class="hl-string"><em style="color:red">"localhost"</em></strong>, Conf.NCS_PORT);
        Cdb cdb = <strong xmlns="" class="hl-keyword">new</strong> Cdb(<strong xmlns="" class="hl-string"><em style="color:red">"cdb-upgrade-sock"</em></strong>, s1);
        cdb.setUseForCdbUpgrade(nsList);
        CdbUpgradeSession cdbsess =
            cdb.startUpgradeSession(
                    CdbDBType.CDB_RUNNING,
                    EnumSet.of(CdbLockType.LOCK_SESSION,
                               CdbLockType.LOCK_WAIT));</pre></div>
            <p>As an alternative to including the old namespace file in the
                   package, a <code class="code">ConfNamespaceStub</code> can be constructed for each
                   old model that is to be accessed:
            </p>
            <div class="informalexample"><pre class="programlisting">nslist.add(<strong xmlns="" class="hl-keyword">new</strong> ConfNamespaceStub(<span xmlns="" class="hl-number">500805321</span>,
                                 <strong xmlns="" class="hl-string"><em style="color:red">"http://example.com/vlan-service"</em></strong>,
                                 <strong xmlns="" class="hl-string"><em style="color:red">"http://example.com/vlan-service"</em></strong>,
                                 <strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>));</pre></div>
            <p>Since the old YANG model with the service point is removed the
                   new service container with the new service has to be created before any
                   config data can we written to this position:
                   
            </p>
            <div class="informalexample"><pre class="programlisting">            ConfPath newPath = <strong xmlns="" class="hl-keyword">new</strong> ConfPath(<strong xmlns="" class="hl-string"><em style="color:red">"/services/tunnel{%x}"</em></strong>, name);
            maapi.create(th, newPath);</pre></div>
            <p>The complete config for the old service is read via the
                   <code class="code">CdbUpgradeSession</code>. Note in particular that the path
                   <code class="code">oldPath</code> is constructed as a <code class="code">ConfCdbUpgradePath</code>.
                   These are paths that allow access to nodes that are not available in
                   the current schema (i.e., nodes in deleted models).
                   
            </p>
            <div class="informalexample"><pre class="programlisting">            ConfXMLParam[] oldparams = <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParam[] {
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"global-id"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"iface"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"unit"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"vid"</em></strong>),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamLeaf(<strong xmlns="" class="hl-string"><em style="color:red">"vl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"description"</em></strong>),
            };
            ConfXMLParam[] data =
                cdbsess.getValues(oldparams, oldPath);</pre></div>
            <p>The new data structure with the service data is created and written
                   to NSO via Maapi and the init transaction:
                   
            </p>
            <div class="informalexample"><pre class="programlisting">            ConfXMLParam[] newparams = <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParam[] {
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"gid"</em></strong>,       data[<span xmlns="" class="hl-number">0</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"interface"</em></strong>, data[<span xmlns="" class="hl-number">1</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"assembly"</em></strong>,  data[<span xmlns="" class="hl-number">2</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"tunnel-id"</em></strong>, data[<span xmlns="" class="hl-number">3</span>].getValue()),
                <strong xmlns="" class="hl-keyword">new</strong> ConfXMLParamValue(<strong xmlns="" class="hl-string"><em style="color:red">"tl"</em></strong>, <strong xmlns="" class="hl-string"><em style="color:red">"descr"</em></strong>,     data[<span xmlns="" class="hl-number">4</span>].getValue()),
            };
            maapi.setValues(th, newparams, newPath);</pre></div>
            <p>Last the service private data is moved from the old position to
                   the new position via the method
                   <code class="function">Maapi.ncsMovePrivateData()</code>:
                   
            </p>
            <div class="informalexample"><pre class="programlisting">            maapi.ncsMovePrivateData(th, oldPath, newPath);</pre></div>
         </div><script type="text/javascript" src="common/main.js">
            <!----></script><script type="text/javascript" src="common/splitterInit.js">
            <!----></script><div class="footer" id="footer-legal">
            <div class="footer-legal framework-footer-cq">
               <div id="framework-footer">
                  <div id="footer-legal"><a href="http://www.cisco.com/web/siteassets/legal/terms_condition.html">Terms &amp; Conditions</a> |
                                 <a href="http://www.cisco.com/web/siteassets/legal/privacy.html">Privacy Statement</a> |
                                 <a href="http://www.cisco.com/web/siteassets/legal/privacy.html#cookies">Cookie Policy</a> |
                                 <a href="http://www.cisco.com/web/siteassets/legal/trademark.html">Trademarks</a></div>
               </div>
            </div>
         </div>
      </div>
      <div id="sidebar">
         <div id="leftnavigation" style="padding-top:3px;">
            <div id="tabs">
               <ul style="visibility: hidden;"></ul>
               <div id="treeDiv"><img src="common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;" /><div id="ulTreeDiv" style="display:none">
                     <ul id="tree" class="filetree">
                        <li><span class="file"><a href="ncs.development.preface.html" tabindex="1">Preface</a></span></li>
                        <li><span class="file"><a href="ncs.development.cdb_intro.html" tabindex="1">The Configuration Database and YANG</a></span><ul>
                              <li><span class="file"><a href="ch01s01.html" tabindex="1">Key Features of the CDB</a></span></li>
                              <li><span class="file"><a href="ch01s02.html" tabindex="1">Compilation and Loading of YANG Modules</a></span></li>
                              <li><span class="file"><a href="ch01s03.html" tabindex="1">Showcase: Extending the CDB with Packages</a></span><ul>
                                    <li><span class="file"><a href="ch01s03.html#d0e206" tabindex="1">Step 1: Create a package</a></span></li>
                                    <li><span class="file"><a href="ch01s03.html#d0e226" tabindex="1">Step 2: Add package to NSO</a></span></li>
                                    <li><span class="file"><a href="ch01s03.html#d0e255" tabindex="1">Step 3: Set data</a></span></li>
                                    <li><span class="file"><a href="ch01s03.html#d0e283" tabindex="1">Step 4: Inspect the YANG module</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch01s04.html" tabindex="1">Data Modeling Basics</a></span></li>
                              <li><span class="file"><a href="ch01s05.html" tabindex="1">Showcase: Building and Testing a Model</a></span><ul>
                                    <li><span class="file"><a href="ch01s05.html#d0e436" tabindex="1">Step 1: Create a model skeleton</a></span></li>
                                    <li><span class="file"><a href="ch01s05.html#d0e467" tabindex="1">Step 2: Fill out the model</a></span></li>
                                    <li><span class="file"><a href="ch01s05.html#d0e489" tabindex="1">Step 3: Compile and load the model</a></span></li>
                                    <li><span class="file"><a href="ch01s05.html#d0e521" tabindex="1">Step 4: Test the model</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch01s06.html" tabindex="1">Initialization Files</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.python_intro.html" tabindex="1">Basic Automation with Python</a></span><ul>
                              <li><span class="file"><a href="ch02s01.html" tabindex="1">Setup</a></span></li>
                              <li><span class="file"><a href="ch02s02.html" tabindex="1">Transactions</a></span></li>
                              <li><span class="file"><a href="ch02s03.html" tabindex="1">Read and Write Values</a></span></li>
                              <li><span class="file"><a href="ch02s04.html" tabindex="1">Lists</a></span></li>
                              <li><span class="file"><a href="ch02s05.html" tabindex="1">Showcase: Configuring DNS with Python</a></span><ul>
                                    <li><span class="file"><a href="ch02s05.html#d0e883" tabindex="1">Step 1: Start the routers</a></span></li>
                                    <li><span class="file"><a href="ch02s05.html#d0e932" tabindex="1">Step 2: Inspect the device data model</a></span></li>
                                    <li><span class="file"><a href="ch02s05.html#d0e997" tabindex="1">Step 3: Create the script</a></span></li>
                                    <li><span class="file"><a href="ch02s05.html#d0e1086" tabindex="1">Step 4: Run and verify the script</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch02s06.html" tabindex="1">The Magic Behind the API</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.service_intro.html" tabindex="1">Creating a Service</a></span><ul>
                              <li><span class="file"><a href="ch03s01.html" tabindex="1">Why services?</a></span></li>
                              <li><span class="file"><a href="ch03s02.html" tabindex="1">The Service Package</a></span></li>
                              <li><span class="file"><a href="ch03s03.html" tabindex="1">Service Parameters</a></span></li>
                              <li><span class="file"><a href="ch03s04.html" tabindex="1">Showcase: A Simple DNS Configuration Service</a></span><ul>
                                    <li><span class="file"><a href="ch03s04.html#d0e1370" tabindex="1">Step 1: Prepare simulated routers</a></span></li>
                                    <li><span class="file"><a href="ch03s04.html#d0e1414" tabindex="1">Step 2: Create a service package</a></span></li>
                                    <li><span class="file"><a href="ch03s04.html#d0e1480" tabindex="1">Step 3: Add the DNS server parameter</a></span></li>
                                    <li><span class="file"><a href="ch03s04.html#d0e1514" tabindex="1">Step 4: Add Python code</a></span></li>
                                    <li><span class="file"><a href="ch03s04.html#d0e1556" tabindex="1">Step 5: Deploy the service</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch03s05.html" tabindex="1">Service Templates</a></span></li>
                              <li><span class="file"><a href="ch03s06.html" tabindex="1">Showcase: DNS Configuration Service with Templates</a></span><ul>
                                    <li><span class="file"><a href="ch03s06.html#d0e1749" tabindex="1">Step 1: Prepare simulated routers</a></span></li>
                                    <li><span class="file"><a href="ch03s06.html#d0e1793" tabindex="1">Step 2: Create a service</a></span></li>
                                    <li><span class="file"><a href="ch03s06.html#d0e1871" tabindex="1">Step 3: Create a template</a></span></li>
                                    <li><span class="file"><a href="ch03s06.html#d0e1963" tabindex="1">Step 4: Test the service</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.applications.html" tabindex="1">Applications in NSO</a></span><ul>
                              <li><span class="file"><a href="ch04s01.html" tabindex="1">NSO Architecture</a></span></li>
                              <li><span class="file"><a href="ch04s02.html" tabindex="1">Callbacks as Extension Mechanism</a></span></li>
                              <li><span class="file"><a href="ch04s03.html" tabindex="1">Actions</a></span></li>
                              <li><span class="file"><a href="ch04s04.html" tabindex="1">Showcase: Implementing Device Count Action</a></span><ul>
                                    <li><span class="file"><a href="ch04s04.html#d0e2242" tabindex="1">Step 1: Create a new Python package</a></span></li>
                                    <li><span class="file"><a href="ch04s04.html#d0e2287" tabindex="1">Step 2: Define a new action in YANG</a></span></li>
                                    <li><span class="file"><a href="ch04s04.html#d0e2329" tabindex="1">Step 3: Implement the action logic</a></span></li>
                                    <li><span class="file"><a href="ch04s04.html#d0e2369" tabindex="1">Step 4: Register callback</a></span></li>
                                    <li><span class="file"><a href="ch04s04.html#d0e2424" tabindex="1">Step 5: And... action!</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.applications.running.html" tabindex="1">Running Application Code</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.javavm.html" tabindex="1">The NSO Java VM</a></span><ul>
                              <li><span class="file"><a href="ug.javavm.overview.html" tabindex="1">Overview</a></span></li>
                              <li><span class="file"><a href="ch05s02.html" tabindex="1">YANG model</a></span></li>
                              <li><span class="file"><a href="ch05s03.html" tabindex="1">Java Packages and the Class Loader</a></span></li>
                              <li><span class="file"><a href="ch05s04.html" tabindex="1">The NED component type</a></span></li>
                              <li><span class="file"><a href="ch05s05.html" tabindex="1">The callback component type</a></span></li>
                              <li><span class="file"><a href="ch05s06.html" tabindex="1">The application component type</a></span></li>
                              <li><span class="file"><a href="ncs.ug.javavm.resman.html" tabindex="1">The Resource Manager</a></span></li>
                              <li><span class="file"><a href="ch05s08.html" tabindex="1">The Alarm centrals</a></span></li>
                              <li><span class="file"><a href="ch05s09.html" tabindex="1">Embedding the NSO Java VM</a></span></li>
                              <li><span class="file"><a href="ch05s10.html" tabindex="1">JMX interface</a></span></li>
                              <li><span class="file"><a href="ch05s11.html" tabindex="1">Logging</a></span></li>
                              <li><span class="file"><a href="ch05s12.html" tabindex="1">The NSO Java VM timeouts</a></span></li>
                              <li><span class="file"><a href="ug.javavm.debug.html" tabindex="1">Debugging Startup</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.pythonvm.html" tabindex="1">The NSO Python VM</a></span><ul>
                              <li><span class="file"><a href="ch06s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch06s02.html" tabindex="1">YANG model</a></span></li>
                              <li><span class="file"><a href="ncs.development.pythonvm.ucode.html" tabindex="1">Structure of the User provided code</a></span><ul>
                                    <li><span class="file"><a href="ncs.development.pythonvm.cthread.html" tabindex="1">The application component</a></span></li>
                                    <li><span class="file"><a href="ncs.development.pythonvm.upgrade.html" tabindex="1">The upgrade component</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.pythonvm.debug.html" tabindex="1">Debugging of Python packages</a></span></li>
                              <li><span class="file"><a href="ncs.development.pythonvm.nonstdpython.html" tabindex="1">Using non-standard Python</a></span><ul>
                                    <li><span class="file"><a href="ch06s05s01.html" tabindex="1">Configure NSO to use a custom start command (recommended)</a></span></li>
                                    <li><span class="file"><a href="ch06s05s02.html" tabindex="1">Changing the path to python3 or
                                                   python</a></span></li>
                                    <li><span class="file"><a href="ch06s05s03.html" tabindex="1">Updating the default start command (not recommended)</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.embedded_erlang.html" tabindex="1">Embedded Erlang applications</a></span><ul>
                              <li><span class="file"><a href="ch07s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch07s02.html" tabindex="1">Erlang API</a></span></li>
                              <li><span class="file"><a href="ch07s03.html" tabindex="1">Application configuration</a></span></li>
                              <li><span class="file"><a href="ch07s04.html" tabindex="1">Example</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.yang.html" tabindex="1">The YANG Data Modeling Language</a></span><ul>
                              <li><span class="file"><a href="ch08s01.html" tabindex="1">The YANG Data Modeling Language</a></span></li>
                              <li><span class="file"><a href="ch08s02.html" tabindex="1">YANG in NSO</a></span></li>
                              <li><span class="file"><a href="ch08s03.html" tabindex="1">YANG Introduction</a></span><ul>
                                    <li><span class="file"><a href="ch08s03s01.html" tabindex="1">Modules and Submodules</a></span></li>
                                    <li><span class="file"><a href="ch08s03s02.html" tabindex="1">Data Modeling Basics</a></span></li>
                                    <li><span class="file"><a href="ch08s03s03.html" tabindex="1">Leaf Nodes</a></span></li>
                                    <li><span class="file"><a href="ch08s03s04.html" tabindex="1">Leaf-list Nodes</a></span></li>
                                    <li><span class="file"><a href="ch08s03s05.html" tabindex="1">Container Nodes</a></span></li>
                                    <li><span class="file"><a href="ch08s03s06.html" tabindex="1">List Nodes</a></span></li>
                                    <li><span class="file"><a href="ch08s03s07.html" tabindex="1">Example Module</a></span></li>
                                    <li><span class="file"><a href="ch08s03s08.html" tabindex="1">State Data</a></span></li>
                                    <li><span class="file"><a href="ch08s03s09.html" tabindex="1">Built-in Types</a></span></li>
                                    <li><span class="file"><a href="ch08s03s10.html" tabindex="1">Derived Types (typedef)</a></span></li>
                                    <li><span class="file"><a href="ch08s03s11.html" tabindex="1">Reusable Node Groups (grouping)</a></span></li>
                                    <li><span class="file"><a href="ch08s03s12.html" tabindex="1">Choices</a></span></li>
                                    <li><span class="file"><a href="ch08s03s13.html" tabindex="1">Extending Data Models (augment)</a></span></li>
                                    <li><span class="file"><a href="ch08s03s14.html" tabindex="1">RPC Definitions</a></span></li>
                                    <li><span class="file"><a href="ch08s03s15.html" tabindex="1">Notification Definitions</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch08s04.html" tabindex="1">Working With YANG Modules</a></span></li>
                              <li><span class="file"><a href="ch08s05.html" tabindex="1">Integrity Constraints</a></span></li>
                              <li><span class="file"><a href="ch08s06.html" tabindex="1">The when statement</a></span></li>
                              <li><span class="file"><a href="ch08s07.html" tabindex="1">Using the Tail-f Extensions with YANG</a></span><ul>
                                    <li><span class="file"><a href="ch08s07s01.html" tabindex="1">Using a YANG annotation file</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch08s08.html" tabindex="1">Custom Help Texts and Error Messages</a></span><ul>
                                    <li><span class="file"><a href="ch08s08s01.html" tabindex="1">Custom Help Texts</a></span></li>
                                    <li><span class="file"><a href="ch08s08s02.html" tabindex="1">Custom Help Text in a Typedef</a></span></li>
                                    <li><span class="file"><a href="ch08s08s03.html" tabindex="1">Custom Error Messages</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch08s09.html" tabindex="1">Hidden Data</a></span><ul>
                                    <li><span class="file"><a href="ch08s09s01.html" tabindex="1">Fully Hidden Nodes</a></span></li>
                                    <li><span class="file"><a href="ch08s09s02.html" tabindex="1">Hiding Nodes from User Interfaces</a></span></li>
                                    <li><span class="file"><a href="ch08s09s03.html" tabindex="1">Conditional display</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch08s10.html" tabindex="1">An Example: Modeling a List of Interfaces</a></span><ul>
                                    <li><span class="file"><a href="ug.yang.relationships.html" tabindex="1">Modeling Relationships</a></span></li>
                                    <li><span class="file"><a href="ch08s10s02.html" tabindex="1">Ensuring Uniqueness</a></span></li>
                                    <li><span class="file"><a href="ch08s10s03.html" tabindex="1">Default Values</a></span></li>
                                    <li><span class="file"><a href="ch08s10s04.html" tabindex="1">The Final Interface YANG model</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.yang.leafrefs.html" tabindex="1">More on leafrefs</a></span></li>
                              <li><span class="file"><a href="ch08s12.html" tabindex="1">Using Multiple Namespaces</a></span></li>
                              <li><span class="file"><a href="ug.yang.Names_Namespaces_And_Revisions.html" tabindex="1">Module Names, Namespaces and Revisions</a></span></li>
                              <li><span class="file"><a href="ug.yang.id_value.html" tabindex="1">Hash Values and the id-value Statement</a></span></li>
                              <li><span class="file"><a href="ug.yang.caveats.html" tabindex="1">NSO caveats</a></span><ul>
                                    <li><span class="file"><a href="ch08s15s01.html" tabindex="1">The union type and value conversion</a></span></li>
                                    <li><span class="file"><a href="ch08s15s02.html" tabindex="1">User defined types</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.cdb.html" tabindex="1">Using CDB</a></span><ul>
                              <li><span class="file"><a href="ch09s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ncs.ug.architecture.im.html" tabindex="1">The NSO Data Model</a></span></li>
                              <li><span class="file"><a href="ch09s03.html" tabindex="1">Addressing Data Using Keypaths</a></span></li>
                              <li><span class="file"><a href="ug.cdb.subscriptions.html" tabindex="1">Subscriptions</a></span></li>
                              <li><span class="file"><a href="ch09s05.html" tabindex="1">Sessions</a></span></li>
                              <li><span class="file"><a href="ug.cdb.init.html" tabindex="1">Loading Initial Data Into CDB</a></span></li>
                              <li><span class="file"><a href="ug.cdb.opdata.html" tabindex="1">Operational Data in CDB</a></span><ul>
                                    <li><span class="file"><a href="ch09s07s01.html" tabindex="1">Subscriptions</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch09s08.html" tabindex="1">Example</a></span><ul>
                                    <li><span class="file"><a href="ch09s08s01.html" tabindex="1">Operational Data</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.cdb.upgrade.html" tabindex="1">Automatic Schema Upgrades and Downgrades</a></span></li>
                              <li><span class="file"><a href="ch09s10.html" tabindex="1">Using Initialization Files for Upgrade</a></span></li>
                              <li id="webhelp-currentid"><span class="file"><a href="ncs.cdb.upgrade.comp.html" tabindex="1">Writing an Upgrade Package Component</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.java_api_overview.html" tabindex="1">Java API Overview</a></span><ul>
                              <li><span class="file"><a href="ch10s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ug.ncs.api.maapi.html" tabindex="1">MAAPI</a></span></li>
                              <li><span class="file"><a href="ch10s03.html" tabindex="1">CDB API</a></span></li>
                              <li><span class="file"><a href="ug.java_api_overview.dp.html" tabindex="1">DP API</a></span><ul>
                                    <li><span class="file"><a href="ch10s04s01.html" tabindex="1">Transaction and Data Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch10s04s02.html" tabindex="1">Service and Action Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch10s04s03.html" tabindex="1">Validation Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch10s04s04.html" tabindex="1">Transforms</a></span></li>
                                    <li><span class="file"><a href="ch10s04s05.html" tabindex="1">Hooks</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch10s05.html" tabindex="1">NED API</a></span></li>
                              <li><span class="file"><a href="ug.java_api_overview.navu.html" tabindex="1">NAVU API</a></span></li>
                              <li><span class="file"><a href="ch10s07.html" tabindex="1">ALARM API</a></span></li>
                              <li><span class="file"><a href="ug.java_api_overview.notif.html" tabindex="1">NOTIF API</a></span></li>
                              <li><span class="file"><a href="ch10s09.html" tabindex="1">HA API</a></span></li>
                              <li><span class="file"><a href="ch10s10.html" tabindex="1">Java API Conf Package</a></span></li>
                              <li><span class="file"><a href="ch10s11.html" tabindex="1">Namespace classes and the loaded schema</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.python_api_overview.html" tabindex="1">Python API Overview</a></span><ul>
                              <li><span class="file"><a href="ch11s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch11s02.html" tabindex="1">Python API overview</a></span></li>
                              <li><span class="file"><a href="ch11s03.html" tabindex="1">Python scripting</a></span></li>
                              <li><span class="file"><a href="ch11s04.html" tabindex="1">High-level MAAPI API</a></span></li>
                              <li><span class="file"><a href="ch11s05.html" tabindex="1">Maagic API</a></span><ul>
                                    <li><span class="file"><a href="ch11s05s01.html" tabindex="1">Namespaces</a></span></li>
                                    <li><span class="file"><a href="ch11s05s02.html" tabindex="1">Reading data</a></span></li>
                                    <li><span class="file"><a href="ch11s05s03.html" tabindex="1">Writing data</a></span></li>
                                    <li><span class="file"><a href="ch11s05s04.html" tabindex="1">Deleting data</a></span></li>
                                    <li><span class="file"><a href="ch11s05s05.html" tabindex="1">Containers</a></span></li>
                                    <li><span class="file"><a href="ch11s05s06.html" tabindex="1">Presence containers</a></span></li>
                                    <li><span class="file"><a href="ch11s05s07.html" tabindex="1">Choices</a></span></li>
                                    <li><span class="file"><a href="ch11s05s08.html" tabindex="1">Lists and List elements</a></span></li>
                                    <li><span class="file"><a href="ch11s05s09.html" tabindex="1">Unions</a></span></li>
                                    <li><span class="file"><a href="ch11s05s10.html" tabindex="1">Enumeration</a></span></li>
                                    <li><span class="file"><a href="ch11s05s11.html" tabindex="1">Leafref</a></span></li>
                                    <li><span class="file"><a href="ch11s05s12.html" tabindex="1">Identityref</a></span></li>
                                    <li><span class="file"><a href="ch11s05s13.html" tabindex="1">Instance-identifier</a></span></li>
                                    <li><span class="file"><a href="ch11s05s14.html" tabindex="1">Leaf-list</a></span></li>
                                    <li><span class="file"><a href="ch11s05s15.html" tabindex="1">Binary</a></span></li>
                                    <li><span class="file"><a href="ch11s05s16.html" tabindex="1">Bits</a></span></li>
                                    <li><span class="file"><a href="ch11s05s17.html" tabindex="1">Empty leaf</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch11s06.html" tabindex="1">Maagic examples</a></span><ul>
                                    <li><span class="file"><a href="ch11s06s01.html" tabindex="1">Action requests</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch11s07.html" tabindex="1">PlanComponent</a></span></li>
                              <li><span class="file"><a href="ch11s08.html" tabindex="1">Python packages</a></span><ul>
                                    <li><span class="file"><a href="ch11s08s01.html" tabindex="1">Action handler</a></span></li>
                                    <li><span class="file"><a href="ch11s08s02.html" tabindex="1">Service handler</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch11s09.html" tabindex="1">Low-level APIs</a></span><ul>
                                    <li><span class="file"><a href="ch11s09s01.html" tabindex="1">Low-level MAAPI API</a></span></li>
                                    <li><span class="file"><a href="ch11s09s02.html" tabindex="1">Low-level CDB API</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.packages.html" tabindex="1">NSO Packages</a></span><ul>
                              <li><span class="file"><a href="ug.packages.overview.html" tabindex="1">Package Overview</a></span></li>
                              <li><span class="file"><a href="ch12s02.html" tabindex="1">An Example Package</a></span></li>
                              <li><span class="file"><a href="ch12s03.html" tabindex="1">The package-meta-data.xml file</a></span></li>
                              <li><span class="file"><a href="ch12s04.html" tabindex="1">Components</a></span></li>
                              <li><span class="file"><a href="ug.packages.creating.html" tabindex="1">Creating Packages </a></span><ul>
                                    <li><span class="file"><a href="ch12s05s01.html" tabindex="1">Creating a NETCONF NED Package</a></span></li>
                                    <li><span class="file"><a href="ch12s05s02.html" tabindex="1">Creating an SNMP NED Package</a></span></li>
                                    <li><span class="file"><a href="ch12s05s03.html" tabindex="1">Creating a CLI NED Package or a Generic NED Package</a></span></li>
                                    <li><span class="file"><a href="ch12s05s04.html" tabindex="1">Creating a Service Package or a Data Provider Package</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.package_dev.html" tabindex="1">Package Development</a></span><ul>
                              <li><span class="file"><a href="ch13s01.html" tabindex="1">Developing a Service Package</a></span></li>
                              <li><span class="file"><a href="ch13s02.html" tabindex="1">ncs-setup</a></span></li>
                              <li><span class="file"><a href="ch13s03.html" tabindex="1">The netsim Part of a NED Package</a></span></li>
                              <li><span class="file"><a href="ug.scripting_devel.html" tabindex="1">Plug-and-play scripting</a></span></li>
                              <li><span class="file"><a href="ch13s05.html" tabindex="1">Creating a Service Package</a></span></li>
                              <li><span class="file"><a href="ch13s06.html" tabindex="1">Java Service Implementation</a></span></li>
                              <li><span class="file"><a href="ch13s07.html" tabindex="1">Developing our First Service Application</a></span></li>
                              <li><span class="file"><a href="ch13s08.html" tabindex="1">Tracing Within the NSO Service Manager</a></span></li>
                              <li><span class="file"><a href="ch13s09.html" tabindex="1">Controlling error messages info level from Java</a></span></li>
                              <li><span class="file"><a href="ug.package_dev.loading.html" tabindex="1">Loading Packages</a></span></li>
                              <li><span class="file"><a href="ch13s11.html" tabindex="1">Debugging the Service and Using Eclipse IDE</a></span><ul>
                                    <li><span class="file"><a href="ch13s11s01.html" tabindex="1">Running the NSO Java VM Standalone</a></span></li>
                                    <li><span class="file"><a href="ch13s11s02.html" tabindex="1">Using Eclipse to Debug the Package Java Code</a></span></li>
                                    <li><span class="file"><a href="ch13s11s03.html" tabindex="1">Remote Connecting with Eclipse to the NSO Java VM</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch13s12.html" tabindex="1">Working with ncs-project</a></span><ul>
                                    <li><span class="file"><a href="ch13s12s01.html" tabindex="1">Create a new project</a></span></li>
                                    <li><span class="file"><a href="ch13s12s02.html" tabindex="1">Project setup</a></span></li>
                                    <li><span class="file"><a href="ch13s12s03.html" tabindex="1">Export</a></span></li>
                                    <li><span class="file"><a href="ch13s12s04.html" tabindex="1">NSO Project man pages</a></span></li>
                                    <li><span class="file"><a href="ch13s12s05.html" tabindex="1">The project-meta-data.xml file</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.services.html" tabindex="1">Developing NSO Services</a></span><ul>
                              <li><span class="file"><a href="ch14s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch14s02.html" tabindex="1">Definitions</a></span></li>
                              <li><span class="file"><a href="ch14s03.html" tabindex="1">The Fundamentals</a></span><ul>
                                    <li><span class="file"><a href="ch14s03s01.html" tabindex="1">Mapping</a></span></li>
                                    <li><span class="file"><a href="ch14s03s02.html" tabindex="1">
                                                     FASTMAP and Transactions
                                                   </a></span></li>
                                    <li><span class="file"><a href="ch14s03s03.html" tabindex="1">Auto-rendering from the Service Model</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch14s04.html" tabindex="1">Writing the Service Model</a></span></li>
                              <li><span class="file"><a href="ch14s05.html" tabindex="1">Finding the Mapping</a></span><ul>
                                    <li><span class="file"><a href="ch14s05s01.html" tabindex="1">
                                                     Mapping Iterations
                                                   </a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch14s06.html" tabindex="1">Strategies to Implement the Mapping</a></span></li>
                              <li><span class="file"><a href="ch14s07.html" tabindex="1">Creating an NSO Service Application</a></span></li>
                              <li><span class="file"><a href="ncs.development.services.mapping_template.html" tabindex="1">
                                           Mapping using Service Templates</a></span><ul>
                                    <li><span class="file"><a href="ch14s08s01.html" tabindex="1">Preparation</a></span></li>
                                    <li><span class="file"><a href="ch14s08s02.html" tabindex="1">Defining the Service Model</a></span></li>
                                    <li><span class="file"><a href="ch14s08s03.html" tabindex="1">Defining the Template</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.services.mapping_java.html" tabindex="1">Mapping using Java</a></span><ul>
                                    <li><span class="file"><a href="ch14s09s01.html" tabindex="1">Overview</a></span></li>
                                    <li><span class="file"><a href="ch14s09s02.html" tabindex="1">Setting up the environment</a></span></li>
                                    <li><span class="file"><a href="ch14s09s03.html" tabindex="1">Creating a service package</a></span></li>
                                    <li><span class="file"><a href="ch14s09s04.html" tabindex="1">The Service Model</a></span></li>
                                    <li><span class="file"><a href="ch14s09s05.html" tabindex="1">Managing the NSO Java VM</a></span></li>
                                    <li><span class="file"><a href="ch14s09s06.html" tabindex="1">A first look at Java Development</a></span></li>
                                    <li><span class="file"><a href="ch14s09s07.html" tabindex="1">Using Eclipse</a></span></li>
                                    <li><span class="file"><a href="ch14s09s08.html" tabindex="1">Writing the service code</a></span><ul>
                                          <li><span class="file"><a href="ch14s09s08.html#d0e13656" tabindex="1">Fetching the service attributes</a></span></li>
                                          <li><span class="file"><a href="ch14s09s08.html#d0e13744" tabindex="1">Mapping service attributes to device configuration</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch14s10.html" tabindex="1">Mapping using Java combined with Templates</a></span><ul>
                                    <li><span class="file"><a href="ch14s10s01.html" tabindex="1">Overview</a></span></li>
                                    <li><span class="file"><a href="ch14s10s02.html" tabindex="1">The VLAN Feature Template</a></span></li>
                                    <li><span class="file"><a href="ch14s10s03.html" tabindex="1">The VLAN Java Logic</a></span></li>
                                    <li><span class="file"><a href="ch14s10s04.html" tabindex="1">Steps to Build a Java and Template Solution</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch14s11.html" tabindex="1">Service Mapping: Putting Things Together</a></span><ul>
                                    <li><span class="file"><a href="ch14s11s01.html" tabindex="1">Auxiliary Service Data</a></span></li>
                                    <li><span class="file"><a href="ch14s11s02.html" tabindex="1">Topology</a></span></li>
                                    <li><span class="file"><a href="ch14s11s03.html" tabindex="1">Creating a Multi-Vendor Service</a></span><ul>
                                          <li><span class="file"><a href="ch14s11s03.html#d0e14145" tabindex="1">YANG Service Model Design</a></span></li>
                                       </ul>
                                    </li>
                                    <li><span class="file"><a href="ch14s11s04.html" tabindex="1">Defining the Mapping</a></span><ul>
                                          <li><span class="file"><a href="ch14s11s04.html#d0e14330" tabindex="1">The Java Code</a></span></li>
                                          <li><span class="file"><a href="ch14s11s04.html#d0e14360" tabindex="1">Configuration Templates</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch14s12.html" tabindex="1">FASTMAP Description</a></span></li>
                              <li><span class="file"><a href="ncs.development.reactive_fastmap.html" tabindex="1">
                                           Reactive FASTMAP
                                         </a></span><ul>
                                    <li><span class="file"><a href="ncs.development.reactive_fastmap.plan.html" tabindex="1">Progress reporting using plan-data</a></span><ul>
                                          <li><span class="file"><a href="ncs.development.reactive_fastmap.plan.html#d0e14789" tabindex="1">Example: use of plan-data in the virtual-mpls-vpn</a></span></li>
                                       </ul>
                                    </li>
                                    <li><span class="file"><a href="ncs.development.service_progress_monitoring.html" tabindex="1">Service Progress Monitoring</a></span></li>
                                    <li><span class="file"><a href="ch14s13s03.html" tabindex="1">Performance Considerations</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch14s14.html" tabindex="1">Services that involve virtual devices, NFV</a></span><ul>
                                    <li><span class="file"><a href="ch14s14s01.html" tabindex="1">
                                                   Starting a virtual machine
                                                 </a></span></li>
                                    <li><span class="file"><a href="ch14s14s02.html" tabindex="1">
                                                   Stopping a virtual machine
                                                 </a></span></li>
                                    <li><span class="file"><a href="ch14s14s03.html" tabindex="1">
                                                   How to handle Licenses
                                                 </a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.services.advanced_mapping.html" tabindex="1">
                                           Advanced Mapping Techniques
                                         </a></span><ul>
                                    <li><span class="file"><a href="ch14s15s01.html" tabindex="1">
                                                   Create Methods
                                                 </a></span></li>
                                    <li><span class="file"><a href="ncs.development.services.opaque.html" tabindex="1">
                                                   Persistent FASTMAP Properties
                                                 </a></span></li>
                                    <li><span class="file"><a href="ncs.development.services.prepost.html" tabindex="1">
                                                   Pre and post hooks
                                                 </a></span></li>
                                    <li><span class="file"><a href="ncs.development.services.stacked_services.html" tabindex="1">Stacked Services and Shared Structures</a></span></li>
                                    <li><span class="file"><a href="ch14s15s05.html" tabindex="1">FASTMAP pre-lock create option</a></span></li>
                                    <li><span class="file"><a href="ch14s15s06.html" tabindex="1">
                                                   Service Caveats
                                                 </a></span><ul>
                                          <li><span class="file"><a href="ch14s15s06.html#d0e15446" tabindex="1">
                                                           Finding Caveats
                                                         </a></span></li>
                                          <li><span class="file"><a href="ch14s15s06.html#d0e15474" tabindex="1">delete</a></span></li>
                                          <li><span class="file"><a href="ch14s15s06.html#d0e15525" tabindex="1">set</a></span></li>
                                          <li><span class="file"><a href="ch14s15s06.html#d0e15536" tabindex="1">create</a></span></li>
                                          <li><span class="file"><a href="ch14s15s06.html#d0e15547" tabindex="1">move</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch14s16.html" tabindex="1">Service Discovery</a></span><ul>
                                    <li><span class="file"><a href="ch14s16s01.html" tabindex="1">Discovery basics</a></span></li>
                                    <li><span class="file"><a href="ch14s16s02.html" tabindex="1">Reconciliation caveats</a></span></li>
                                    <li><span class="file"><a href="ch14s16s03.html" tabindex="1">Reconciling in bulk</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.services.partialsync.html" tabindex="1">Partial sync</a></span><ul>
                                    <li><span class="file"><a href="ch14s17s01.html" tabindex="1">Partial sync-from</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.templates.html" tabindex="1">Templates</a></span><ul>
                              <li><span class="file"><a href="ncs.development.templates.intro.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ug.templates.dev.config.templates.html" tabindex="1">Config templates</a></span><ul>
                                    <li><span class="file"><a href="ncs.development.templates.dev.tmpl.html" tabindex="1">Create a Config-template from a Device-template</a></span></li>
                                    <li><span class="file"><a href="ch15s02s02.html" tabindex="1">Create a Config-template from a device configuration</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.templates.basicPrinciples.html" tabindex="1">Basic principles</a></span><ul>
                                    <li><span class="file"><a href="ncs.development.templates.values.html" tabindex="1">Values in a template</a></span></li>
                                    <li><span class="file"><a href="ch15s03s02.html" tabindex="1">Processing instructions</a></span></li>
                                    <li><span class="file"><a href="ncs.development.templates.contexts.html" tabindex="1">XPath Context in config-templates</a></span></li>
                                    <li><span class="file"><a href="ncs.development.templates.conditional.html" tabindex="1">Conditional Statements</a></span></li>
                                    <li><span class="file"><a href="ncs.development.templates.loops.html" tabindex="1">Loop Statements</a></span></li>
                                    <li><span class="file"><a href="ch15s03s06.html" tabindex="1">Capabilities and Namespaces</a></span></li>
                                    <li><span class="file"><a href="ch15s03s07.html" tabindex="1">Template tag operations</a></span></li>
                                    <li><span class="file"><a href="ch15s03s08.html" tabindex="1">Operations on ordered-by user lists and leaf-lists</a></span></li>
                                    <li><span class="file"><a href="ch15s03s09.html" tabindex="1">Debugging templates</a></span><ul>
                                          <li><span class="file"><a href="ch15s03s09.html#d0e17120" tabindex="1">debug template output examples</a></span></li>
                                          <li><span class="file"><a href="ch15s03s09.html#d0e17209" tabindex="1">XPath help</a></span></li>
                                          <li><span class="file"><a href="ch15s03s09.html#d0e17236" tabindex="1">XPath trace log</a></span></li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.templates.service.templates.html" tabindex="1">Service Templates</a></span><ul>
                                    <li><span class="file"><a href="ncs.development.templates.service.templates.macros.html" tabindex="1">Macros in Service Templates</a></span></li>
                                    <li><span class="file"><a href="ncs.development.templates.service.preposttemplates.html" tabindex="1">Pre- and Post-Modification Templates</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.templates.api.templates.html" tabindex="1">Templates applied from an API</a></span><ul>
                                    <li><span class="file"><a href="ch15s05s01.html" tabindex="1">Feature Template</a></span></li>
                                    <li><span class="file"><a href="ch15s05s02.html" tabindex="1">Passing deep structures from an API</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ncs.development.templates.multined.html" tabindex="1">Service and API Templates in multi-NED environment</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.ncs.alarmmgr_dev.html" tabindex="1">Developing Alarm Applications</a></span><ul>
                              <li><span class="file"><a href="ch16s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch16s02.html" tabindex="1">Using the Alarms Sink</a></span></li>
                              <li><span class="file"><a href="ch16s03.html" tabindex="1">Using the Alarms Source</a></span></li>
                              <li><span class="file"><a href="ch16s04.html" tabindex="1">Extending the alarm manager,
                                                  adding user defined alarm types and fields</a></span></li>
                              <li><span class="file"><a href="ch16s05.html" tabindex="1">Mapping alarms to objects</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ncs.development.snmp_notif_recv.html" tabindex="1">SNMP Notification Receiver</a></span><ul>
                              <li><span class="file"><a href="ncs.development.snmp_notf_recv.introduction.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch17s02.html" tabindex="1">Configuring NSO to Receive SNMP Notifications</a></span></li>
                              <li><span class="file"><a href="ch17s03.html" tabindex="1">Built-in Filters</a></span></li>
                              <li><span class="file"><a href="ch17s04.html" tabindex="1">Notification Handlers</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ch18.html" tabindex="1">The web server</a></span><ul>
                              <li><span class="file"><a href="ch18s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch18s02.html" tabindex="1">Web server capabilities</a></span></li>
                              <li><span class="file"><a href="ch18s03.html" tabindex="1">CGI support</a></span></li>
                              <li><span class="file"><a href="ug.webserver.tls_data_in_db.html" tabindex="1">Storing TLS data in database</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.kicker.html" tabindex="1">Kicker </a></span><ul>
                              <li><span class="file"><a href="ch19s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ug.kicker.actions.html" tabindex="1">Kicker action invocation</a></span></li>
                              <li><span class="file"><a href="ug.kicker.data-concepts.html" tabindex="1">Data Kicker Concepts</a></span><ul>
                                    <li><span class="file"><a href="ch19s03s01.html" tabindex="1">Generalized Monitors</a></span></li>
                                    <li><span class="file"><a href="ch19s03s02.html" tabindex="1">Kicker Constraints/Filters</a></span></li>
                                    <li><span class="file"><a href="ug.data.kicker.named_xpath.html" tabindex="1">Variable Bindings</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.simple_data_example.html" tabindex="1">A Simple Data Kicker Example</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.kicker.notif-concepts.html" tabindex="1">Notification Kicker Concepts</a></span><ul>
                                    <li><span class="file"><a href="ch19s04s01.html" tabindex="1">Notification selector expression</a></span></li>
                                    <li><span class="file"><a href="ug.notif.kicker.named_xpath.html" tabindex="1">Variable Bindings</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.simple_notif_example.html" tabindex="1">A Simple Notification Kicker Example</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.kicker.rfm.html" tabindex="1">Reactive FastMap with Kicker</a></span><ul>
                                    <li><span class="file"><a href="ug.kicker.rfm.use_cases.html" tabindex="1">Use Cases</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.rfm.example.html" tabindex="1">RFM Example</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.kicker.debugging.html" tabindex="1">Debugging kickers</a></span><ul>
                                    <li><span class="file"><a href="ug.kicker.debugging.pipe.html" tabindex="1">Kicker CLI Debug target</a></span></li>
                                    <li><span class="file"><a href="ug.kicker.debugging.unhide.html" tabindex="1">Unhide Kickers</a></span></li>
                                    <li><span class="file"><a href="ch19s06s03.html" tabindex="1">XPath log</a></span></li>
                                    <li><span class="file"><a href="ch19s06s04.html" tabindex="1">Devel Log</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ch20.html" tabindex="1">Scheduler</a></span><ul>
                              <li><span class="file"><a href="ch20s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch20s02.html" tabindex="1">Scheduling Periodic Work</a></span><ul>
                                    <li><span class="file"><a href="ch20s02s01.html" tabindex="1">Schedule Expression</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch20s03.html" tabindex="1">Scheduling Non-recurring Work</a></span></li>
                              <li><span class="file"><a href="ch20s04.html" tabindex="1">Scheduling in a HA Cluster</a></span></li>
                              <li><span class="file"><a href="ch20s05.html" tabindex="1">Troubleshooting</a></span><ul>
                                    <li><span class="file"><a href="ch20s05s01.html" tabindex="1">History log</a></span></li>
                                    <li><span class="file"><a href="ch20s05s02.html" tabindex="1">XPath log</a></span></li>
                                    <li><span class="file"><a href="ch20s05s03.html" tabindex="1">Devel Log</a></span></li>
                                    <li><span class="file"><a href="ch20s05s04.html" tabindex="1">Suspending the Scheduler</a></span></li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ch21.html" tabindex="1">Progress Trace</a></span><ul>
                              <li><span class="file"><a href="ch21s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch21s02.html" tabindex="1">Configuring Progress Trace</a></span><ul>
                                    <li><span class="file"><a href="ch21s02s01.html" tabindex="1">Unhide Progress Trace</a></span></li>
                                    <li><span class="file"><a href="ch21s02s02.html" tabindex="1">Log to File</a></span></li>
                                    <li><span class="file"><a href="ch21s02s03.html" tabindex="1">Log as Operational Data</a></span></li>
                                    <li><span class="file"><a href="ch21s02s04.html" tabindex="1">Log as Notification Events</a></span></li>
                                    <li><span class="file"><a href="ch21s02s05.html" tabindex="1">Verbosity</a></span></li>
                                    <li><span class="file"><a href="ch21s02s06.html" tabindex="1">Using Filters</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch21s03.html" tabindex="1">Report Progress Events from User Code</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.nano_services.html" tabindex="1">Nano Services for Staged Provisioning</a></span><ul>
                              <li><span class="file"><a href="ch22s01.html" tabindex="1">Basic Concepts</a></span><ul>
                                    <li><span class="file"><a href="ch22s01s01.html" tabindex="1">Plan Outline</a></span></li>
                                    <li><span class="file"><a href="ch22s01s02.html" tabindex="1">Per-State Configuration</a></span></li>
                                    <li><span class="file"><a href="ch22s01s03.html" tabindex="1">Link Plan Outline to Service</a></span></li>
                                    <li><span class="file"><a href="ch22s01s04.html" tabindex="1">Service Instantiation</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch22s02.html" tabindex="1">Benefits and Use Cases</a></span></li>
                              <li><span class="file"><a href="ch22s03.html" tabindex="1">Backtracking and Staged Delete</a></span></li>
                              <li><span class="file"><a href="ch22s04.html" tabindex="1">Managing Side Effects</a></span></li>
                              <li><span class="file"><a href="ch22s05.html" tabindex="1">Multiple and Dynamic Plan Components</a></span></li>
                              <li><span class="file"><a href="ch22s06.html" tabindex="1">Netsim Router Provisioning Example</a></span></li>
                              <li><span class="file"><a href="ch22s07.html" tabindex="1">Zombie Services</a></span></li>
                              <li><span class="file"><a href="ch22s08.html" tabindex="1">Using Notifications to Track the Plan and its Status</a></span><ul>
                                    <li><span class="file"><a href="ch22s08s01.html" tabindex="1">The plan-state-change Notification</a></span></li>
                                    <li><span class="file"><a href="ch22s08s02.html" tabindex="1">The service-commit-queue-event Notification</a></span></li>
                                    <li><span class="file"><a href="ch22s08s03.html" tabindex="1">
                                                     Examples of service-state-changes Stream Subscriptions
                                                   </a></span></li>
                                    <li><span class="file"><a href="ch22s08s04.html" tabindex="1">The trace-id in the Notification</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch22s09.html" tabindex="1">Developing and Updating a Nano Service</a></span><ul>
                                    <li><span class="file"><a href="ch22s09s01.html" tabindex="1">Adding Components</a></span></li>
                                    <li><span class="file"><a href="ch22s09s02.html" tabindex="1">Removing Components</a></span></li>
                                    <li><span class="file"><a href="ch22s09s03.html" tabindex="1">Replacing Components</a></span></li>
                                    <li><span class="file"><a href="ch22s09s04.html" tabindex="1">Adding and Removing States</a></span></li>
                                    <li><span class="file"><a href="ch22s09s05.html" tabindex="1">Modifying States</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ug.nano_services.impl.html" tabindex="1">Implementation Reference</a></span><ul>
                                    <li><span class="file"><a href="ch22s10s01.html" tabindex="1">Back-Tracking</a></span></li>
                                    <li><span class="file"><a href="ch22s10s02.html" tabindex="1">Behavior Tree</a></span></li>
                                    <li><span class="file"><a href="ch22s10s03.html" tabindex="1">Nano Service Pre-Condition</a></span></li>
                                    <li><span class="file"><a href="ch22s10s04.html" tabindex="1">Nano Service Opaque and Component Properties</a></span></li>
                                    <li><span class="file"><a href="ug.nano_services.callbacks.html" tabindex="1">Nano Service Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch22s10s06.html" tabindex="1">Generic Service Callbacks</a></span></li>
                                    <li><span class="file"><a href="ch22s10s07.html" tabindex="1">Nano Service Pre/Post Modifications</a></span></li>
                                    <li><span class="file"><a href="ch22s10s08.html" tabindex="1">Forced Commits</a></span></li>
                                    <li><span class="file"><a href="ch22s10s09.html" tabindex="1">Plan Location</a></span></li>
                                    <li><span class="file"><a href="ch22s10s10.html" tabindex="1">Nano Services and Commit Queue</a></span></li>
                                 </ul>
                              </li>
                              <li><span class="file"><a href="ch22s11.html" tabindex="1">Graceful Link Migration Example</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.encryption_keys.html" tabindex="1">Encryption Keys</a></span><ul>
                              <li><span class="file"><a href="ch23s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch23s02.html" tabindex="1">Reading encryption keys using an external command</a></span></li>
                           </ul>
                        </li>
                        <li><span class="file"><a href="ug.external_logging.html" tabindex="1">External Logging</a></span><ul>
                              <li><span class="file"><a href="ch24s01.html" tabindex="1">Introduction</a></span></li>
                              <li><span class="file"><a href="ch24s02.html" tabindex="1">Enabling external log processing</a></span></li>
                              <li><span class="file"><a href="ch24s03.html" tabindex="1">Processing logs using an external command</a></span></li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>